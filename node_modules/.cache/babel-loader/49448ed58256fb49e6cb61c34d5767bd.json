{"ast":null,"code":"import _objectSpread from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yeonwoo/CS290-proto/final/StartIQ/src/components/EditProfile/index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport { compose } from 'recompose';\nimport { Button } from 'react-bootstrap';\nimport Firebase, { FirebaseContext } from '../Firebase';\nimport './style.css';\n\nvar EditPage = function EditPage() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title mt-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, \"Your Profile\"), React.createElement(\"div\", {\n    className: \"editBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(EditForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  })));\n};\n\nvar INITIAL_STATE = {\n  profile: {\n    profileIMG: \"\",\n    university: \"\",\n    skills: \"\",\n    degree: \"\",\n    industries: \"\",\n    roles: \"\"\n  },\n  blockSubmit: false,\n  error: null,\n  uid: ''\n};\n\nvar EditDataBase = function EditDataBase() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(FirebaseContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, function (firebase) {\n    return React.createElement(ProfileEditBase, {\n      firebase: firebase,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    });\n  }));\n};\n\nvar ProfileEditBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProfileEditBase, _Component);\n\n  function ProfileEditBase(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileEditBase);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfileEditBase).call(this, props));\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n      var _this$state = _this.state,\n          profile = _this$state.profile,\n          uid = _this$state.uid;\n\n      _this.props.firebase.putProfile(profile, uid).then(function () {\n        _this.props.history.push(ROUTES.PROFILE);\n      });\n    };\n\n    _this.onChange = function (event) {\n      _this.state.profile[event.target.name] = event.target.value;\n\n      _this.setState({\n        profile: _this.state.profile\n      });\n    };\n\n    _this.onUpload = function (event) {\n      _this.setState({\n        blockSubmit: true\n      });\n\n      _this.props.firebase.uploadImg(event.target.files[0]).then(function (url) {\n        _this.state.profile.profileIMG = url;\n\n        _this.setState({\n          profile: _this.state.profile,\n          blockSubmit: false\n        });\n      });\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(ProfileEditBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.firebase.setAuthChangeHandler(function (user) {\n        if (user) {\n          _this2.setState({\n            uid: user.uid\n          });\n\n          _this2.props.firebase.getProfile(user.uid).then(function (profile) {\n            _this2.setState({\n              profile: profile\n            });\n          });\n        } else _this2.setState({\n          uid: undefined\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          profile = _this$state2.profile,\n          blockSubmit = _this$state2.blockSubmit;\n      return React.createElement(\"div\", {\n        className: \"mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"profile_img_\",\n        src: profile.profileIMG,\n        alt: \"profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.onUpload,\n        type: \"file\",\n        accept: \"image/*\",\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"imgURL\",\n        value: profile.profileIMG,\n        readOnly: true,\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"editTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \" Your University \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input2\",\n        name: \"university\",\n        value: profile.university,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"Where did you go to school?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \" Degree \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input2\",\n        name: \"degree\",\n        value: profile.degree,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"What degree are you pursuing or have?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \" Skills \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input2\",\n        name: \"skills\",\n        value: profile.skills,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"What skills do you have?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \" Industries \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input2\",\n        name: \"industries\",\n        value: profile.industries,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"What industries interest you\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" Roles \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input2\",\n        name: \"roles\",\n        value: profile.roles,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"What are your roles?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \" \"), React.createElement(\"td\", {\n        className: \"cell2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: blockSubmit,\n        className: \"nurikuri\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Save\")))))));\n    }\n  }]);\n\n  return ProfileEditBase;\n}(Component);\n\nvar EditProfileLink = function EditProfileLink() {\n  return React.createElement(Link, {\n    to: ROUTES.EDIT,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \" \", React.createElement(Button, {\n    className: \"nurikuri\",\n    variant: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Edit\"));\n};\n\nvar EditForm = compose(withRouter, withFirebase)(ProfileEditBase);\nexport default EditPage;\nexport { EditForm, EditProfileLink };","map":{"version":3,"sources":["/Users/yeonwoo/CS290-proto/final/StartIQ/src/components/EditProfile/index.js"],"names":["React","Component","Link","withRouter","withFirebase","ROUTES","compose","Button","Firebase","FirebaseContext","EditPage","INITIAL_STATE","profile","profileIMG","university","skills","degree","industries","roles","blockSubmit","error","uid","EditDataBase","firebase","ProfileEditBase","props","onSubmit","event","preventDefault","state","putProfile","then","history","push","PROFILE","onChange","target","name","value","setState","onUpload","uploadImg","files","url","setAuthChangeHandler","user","getProfile","undefined","EditProfileLink","EDIT","EditForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport { compose } from 'recompose';\nimport { Button} from 'react-bootstrap';\nimport Firebase, {FirebaseContext} from '../Firebase';\nimport './style.css'\n\n\n\n\nconst EditPage = () => (\n  <div>\n    <h1 className = \"title mt-0\">Your Profile</h1>\n    <div className=\"editBox\">\n    <EditForm />\n    </div>\n  </div>\n);\n\n\nconst INITIAL_STATE = {\n  profile: {\n    profileIMG: \"\",\n    university: \"\",\n    skills: \"\",\n    degree: \"\",\n    industries:\"\",\n    roles:\"\"\n  },\n  blockSubmit: false,\n  error: null,\n  uid: '',\n};\n\nconst EditDataBase = () => (\n  <div>\n    <FirebaseContext.Consumer>\n      {firebase => <ProfileEditBase firebase={firebase}/>}\n    </FirebaseContext.Consumer>\n  </div>\n);\n\n\nclass ProfileEditBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  componentDidMount() {\n    this.props.firebase.setAuthChangeHandler((user) => {\n      if(user) {\n        this.setState({ uid: user.uid });\n        this.props.firebase.getProfile(user.uid).then(profile => {\n          this.setState({ profile: profile });\n        });\n      } else this.setState({ uid: undefined });\n    });\n  }\n\n\n onSubmit = event => {\n    event.preventDefault();\n    const { profile, uid } = this.state;\n    this.props.firebase.putProfile(profile, uid).then(() => {\n      this.props.history.push(ROUTES.PROFILE);\n    });\n  }\n\n  onChange = event => {\n    this.state.profile[event.target.name] = event.target.value;\n    this.setState({ profile: this.state.profile });\n  };\n\n  onUpload = (event) => {\n    this.setState({blockSubmit: true});\n    this.props.firebase.uploadImg(event.target.files[0]).then(url => {\n      this.state.profile.profileIMG = url;\n      this.setState({ profile: this.state.profile, blockSubmit: false });\n    });\n  }\n\n  render() {\n    const { profile, blockSubmit } = this.state;\n      \n    return (\n      <div className = \"mt-4\">\n        <img className = \"profile_img_\" src={profile.profileIMG} alt=\"profile\"/>\n        <input onChange={this.onUpload} type=\"file\" accept=\"image/*\" className=\"cell\" />\n        <input name=\"imgURL\" value={profile.profileIMG} readOnly hidden />\n\n        <form onSubmit={this.onSubmit}>\n          <table className=\"editTable\"> \n            <tbody> \n              <tr> \n                <td className=\"cell\"> Your University </td>\n                <td> \n                  <input className=\"input2\" name=\"university\" value={profile.university} onChange={this.onChange} type=\"text\" placeholder=\"Where did you go to school?\"/>\n                </td>\n              </tr>\n\n              <tr>\n                <td className=\"cell\"> Degree </td> \n                <td>\n                  <input className=\"input2\" name=\"degree\" value={profile.degree} onChange={this.onChange} type=\"text\" placeholder=\"What degree are you pursuing or have?\" />\n                </td>\n              </tr>\n\n              <tr>\n                <td className=\"cell\"> Skills </td>\n                <td> \n                  <input className=\"input2\" name=\"skills\" value={profile.skills} onChange={this.onChange} type=\"text\" placeholder=\"What skills do you have?\" />\n                </td>\n              </tr>\n        \n              <tr>\n                <td className=\"cell\"> Industries </td>\n                <td> \n                  <input className=\"input2\" name=\"industries\" value={profile.industries} onChange={this.onChange} type=\"text\" placeholder=\"What industries interest you\"/>\n                </td>\n              </tr>\n\n              <tr>\n                <td className=\"cell\"> Roles </td>\n                <td>\n                  <input className=\"input2\" name=\"roles\" value={profile.roles} onChange={this.onChange} type=\"text\" placeholder=\"What are your roles?\"/>\n                </td>\n              </tr>\n              \n              <tr>\n                <td> </td>\n                <td className=\"cell2\">\n                  <button disabled={blockSubmit} className=\"nurikuri\">Save</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst EditProfileLink = () => (\n  <Link to={ROUTES.EDIT}> <Button className=\"nurikuri\" variant=\"secondary\">\n    Edit\n  </Button></Link>\n);\n\n\n\n\nconst EditForm = compose(\n  withRouter,\n  withFirebase,\n)(ProfileEditBase);\n\n\nexport default EditPage;\n\nexport { EditForm, EditProfileLink};"]},"metadata":{},"sourceType":"module"}