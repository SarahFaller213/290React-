{"ast":null,"code":"import _slicedToArray from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yeonwoo/CS290-proto/final/StartIQ/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/yeonwoo/CS290-proto/final/StartIQ/src/components/Dashboard/index.js\";\nimport * as React from \"react\";\nimport ReactQuill from 'react-quill';\nimport './style.css';\nimport { Link } from 'react-router-dom';\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.bubble.css';\nimport { Col, Button, Form, Row, Modal, Dropdown, Alert } from 'react-bootstrap';\nimport { FirebaseContext } from '../Firebase';\nimport renderHTML from 'react-render-html';\n\nvar DashboardPage = function DashboardPage() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, React.createElement(FirebaseContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, function (firebase) {\n    return React.createElement(Dashboard, {\n      firebase: firebase,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    });\n  }));\n};\n\nvar SubmitButton = function SubmitButton() {\n  return React.createElement(\"span\", {\n    className: \"submit-idea px-2 py-1\",\n    variant: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Post\");\n};\n\nvar FileUploadButton = function FileUploadButton() {\n  return React.createElement(\"i\", {\n    className: \"fas fa-paperclip\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  });\n};\n\nvar CustomToolbar = function CustomToolbar() {\n  return React.createElement(\"div\", {\n    id: \"toolbar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    className: \"ql-header\",\n    defaultValue: \"\",\n    onChange: function onChange(e) {\n      return e.persist();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    value: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    selected: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"ql-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"ql-italic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(\"select\", {\n    className: \"ql-color\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"red\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    value: \"green\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    value: \"blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    value: \"orange\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    value: \"violet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    value: \"#d0d1d2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    selected: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"ql-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"ql-image mr-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"ql-upload px-0 py-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(FileUploadButton, {\n    className: \"mx-0 my-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"ql-submit px-0 py-0 float-right mr-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(SubmitButton, {\n    className: \"mx-0 my-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })));\n};\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n\n    _this.onSubmit = function () {\n      if (_this.state.uid) {\n        _this.props.firebase.putIdea(_this.state.text, _this.state.uid, _this.state.attachments).then(function () {\n          _this.props.firebase.getIdea(_this.state.uid).then(function (ideas) {\n            // ideas : { KEY -> user idea}\n            _this.setState({\n              ideas: ideas,\n              text: '',\n              attachments: []\n            });\n          });\n        });\n      }\n    };\n\n    _this.onEdit = function (key) {\n      console.log(key);\n\n      _this.setState({\n        modalShow: false\n      });\n\n      _this.props.firebase.editIdea(_this.state.revise, _this.state.uid, key).then(function () {\n        _this.props.firebase.getIdea(_this.state.uid).then(function (ideas) {\n          // ideas : { KEY -> user idea}\n          _this.setState({\n            ideas: ideas,\n            text: '',\n            attachments: []\n          });\n        });\n      });\n    };\n\n    _this.onSelect = function (data) {\n      _this.setState({\n        revise: data\n      });\n    };\n\n    _this.onModal = function (key, idea) {\n      _this.setState({\n        modalShow: true,\n        revise: idea,\n        ideaKey: key\n      });\n\n      _this.props.firebase.revise(_this.state.uid, key).once('value', function (snapshot) {\n        var editObject = snapshot.val();\n        var editList = Object.keys(editObject).map(function (data) {\n          return _objectSpread({}, editObject[data]);\n        });\n\n        _this.setState({\n          revisions: editList\n        });\n\n        console.log(_this.state.revisions);\n      });\n    };\n\n    _this.onChange = function (event) {\n      _this.setState({\n        comment: event.target.value\n      });\n    };\n\n    _this.onPost = function (evt, key) {\n      evt.preventDefault();\n\n      _this.props.firebase.putComment(_this.state.uid, key, _this.state.username, _this.state.comment).then(function () {\n        _this.props.firebase.getIdea(_this.state.uid).then(function (ideas) {\n          // ideas : { KEY -> user idea}\n          _this.setState({\n            ideas: ideas\n          });\n        });\n      });\n    };\n\n    _this.onDelete = function (key) {\n      _this.props.firebase.deleteIdea(_this.state.uid, key).then(function () {\n        _this.props.firebase.getIdea(_this.state.uid).then(function (ideas) {\n          // ideas : { KEY -> user idea}\n          _this.setState({\n            ideas: ideas\n          });\n        });\n      });\n    };\n\n    _this.onComment = function (event) {\n      event.target.reset();\n\n      _this.setState({\n        comment: \"\"\n      });\n    };\n\n    _this.onUploadClick = function () {\n      _this.uploadRef.current.click();\n    };\n\n    _this.removeAttachment = function (idx) {\n      _this.state.attachments.splice(idx, 1);\n\n      _this.setState({\n        attachments: _this.state.attachments\n      });\n    };\n\n    _this.onUpload = function (event) {\n      _this.props.firebase.uploadFiles(_this.state.uid, event.target.files).then(function (urls) {\n        _this.setState({\n          attachments: [].concat(_toConsumableArray(_this.state.attachments), _toConsumableArray(urls))\n        });\n      });\n\n      event.target.value = \"\"; // to allow consecutive file upload on same file (it's just weird to not allow that)\n    };\n\n    _this.modules = {\n      toolbar: {\n        container: \"#toolbar\",\n        handlers: {\n          \"submit\": _this.onSubmit,\n          \"upload\": _this.onUploadClick\n        }\n      }\n    };\n    _this.state = {\n      text: '',\n      revise: '',\n      ideas: [],\n      revisions: [],\n      comments: [],\n      uid: undefined,\n      username: undefined,\n      attachments: [],\n      profile: '',\n      ideaKey: \"\",\n      comment: \"\",\n      commentShow: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleModalChange = _this.handleModalChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.uploadRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.firebase.setAuthChangeHandler(function (user) {\n        if (user) {\n          _this2.setState({\n            uid: user.uid\n          });\n\n          _this2.props.firebase.getCreator(_this2.state.uid).then(function (username) {\n            _this2.setState({\n              username: username\n            }); // console.log(this.state.username)\n\n          });\n\n          _this2.props.firebase.getIdea(_this2.state.uid).then(function (ideas) {\n            // ideas : { KEY -> user idea}\n            _this2.setState({\n              ideas: ideas\n            });\n          });\n\n          _this2.props.firebase.getProfile(_this2.state.uid).then(function (profile) {\n            _this2.setState({\n              profile: profile\n            });\n          });\n        } else _this2.setState({\n          uid: undefined,\n          username: undefined\n        });\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      this.setState({\n        text: value\n      });\n    }\n  }, {\n    key: \"handleModalChange\",\n    value: function handleModalChange(value) {\n      this.setState({\n        revise: value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // ideas\n      var ideas = this.state.ideas.map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            ideaInfo = _ref2[1];\n\n        var created_at = new Date(ideaInfo.created_at).toString();\n        var comments = !ideaInfo.comments ? [] : Object.values(ideaInfo.comments).map(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              username = _ref4[0],\n              comment = _ref4[1];\n\n          return React.createElement(Form, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, React.createElement(Form.Group, {\n            as: Row,\n            controlId: \"formPlaintextComment\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, React.createElement(Form.Label, {\n            className: \"username_comment\",\n            column: true,\n            sm: 2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }, username), React.createElement(Col, {\n            sm: \"9\",\n            className: \"commentContext pt-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, comment)));\n        });\n        var attachments = !ideaInfo.attachments ? [] : ideaInfo.attachments.map(function (_ref5, idx) {\n          var _ref6 = _slicedToArray(_ref5, 2),\n              filename = _ref6[0],\n              url = _ref6[1];\n\n          return React.createElement(\"div\", {\n            key: idx,\n            className: \"my-0 px-2 idea-attachments\",\n            style: {\n              \"borderTop\": idx == 0 ? \"solid rgb(223, 223, 223) 1pt\" : \"none\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            className: \"my-0 px-0 col-11 d-inline-block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          }, \" \", React.createElement(\"i\", {\n            className: \"fas fa-paperclip\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          }), \" \", React.createElement(\"a\", {\n            href: url,\n            target: \"_blank\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          }, filename)));\n        });\n\n        var modalClose = function modalClose() {\n          return _this3.setState({\n            modalShow: false\n          });\n        };\n\n        return React.createElement(\"div\", {\n          className: \"row dashboard\",\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"createdAt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \" \", created_at, \", posted by \", _this3.state.username, \" \")), React.createElement(\"div\", {\n          className: \"col-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"submit\",\n          variant: \"danger\",\n          onClick: function onClick() {\n            return _this3.onDelete(key);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \" Delete\"), React.createElement(Link, {\n          to: \"/Idea/\".concat(key),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \" \", React.createElement(Button, {\n          className: \"submit\",\n          variant: \"info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \" Refine \")), React.createElement(Button, {\n          className: \"submit\",\n          variant: \"secondary\",\n          onClick: function onClick() {\n            return _this3.onModal(key, ideaInfo.idea);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, \" Edit\"), React.createElement(Modal, Object.assign({}, _this3.props, {\n          size: \"lg\",\n          \"aria-labelledby\": \"contained-modal-title-vcenter\",\n          centered: true,\n          show: _this3.state.modalShow,\n          onHide: modalClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }), React.createElement(Modal.Header, {\n          closeButton: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, \"Edit Your Idea\")), React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, React.createElement(ReactQuill, {\n          value: _this3.state.revise,\n          onChange: _this3.handleModalChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }), React.createElement(Dropdown, {\n          className: \"mt-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, React.createElement(Dropdown.Toggle, {\n          variant: \"secondary\",\n          id: \"dropdown-basic\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, \"Select from revisions\"), React.createElement(Dropdown.Menu, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, !_this3.state.revisions ? [] : _this3.state.revisions.map(function (edit, idx) {\n          return React.createElement(Dropdown.Item, {\n            key: idx,\n            onClick: function onClick() {\n              _this3.onSelect(edit.idea);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 258\n            },\n            __self: this\n          }, \" Revised on \", new Date(edit.created_at).toString(), \" \");\n        })))), React.createElement(Modal.Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"info\",\n          onClick: function onClick() {\n            return _this3.onEdit(_this3.state.ideaKey);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, \"Save\")))), React.createElement(\"div\", {\n          className: \"col-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, renderHTML(ideaInfo.idea), attachments, React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }), React.createElement(Form, {\n          onSubmit: _this3.onComment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(Form.Group, {\n          as: Row,\n          controlId: \"formPlaintextComment\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          className: \"username_comment\",\n          column: true,\n          sm: 2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, _this3.state.username), React.createElement(Col, {\n          sm: \"8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          className: \"comment_input\",\n          type: \"Comment\",\n          onChange: _this3.onChange,\n          placeholder: \"Enter Your Comment...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        })), React.createElement(Button, {\n          className: \"mr-4\",\n          type: \"submit\",\n          variant: \"light\",\n          onClick: function onClick(evt) {\n            return _this3.onPost(evt, key);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, \"Post\"))), comments));\n      }); // attachments below quill\n\n      var attachments = this.state.attachments.map(function (_ref7, idx) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            filename = _ref8[0],\n            url = _ref8[1];\n\n        if (filename.length > 60) filename = filename.substring(0, 30) + \" ... \" + filename.substring(filename.length - 30, filename.length);\n        return React.createElement(\"div\", {\n          key: idx,\n          className: \"my-0 px-2 attachments\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"my-0 px-0 col-11 d-inline-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, \" \", React.createElement(\"i\", {\n          className: \"fas fa-paperclip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }), \" \", React.createElement(\"a\", {\n          href: url,\n          target: \"_blank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, filename)), React.createElement(\"span\", {\n          className: \"float-right remove-attachment\",\n          onClick: function onClick() {\n            return _this3.removeAttachment(idx);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          class: \"far fa-trash-alt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        })));\n      });\n      return React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"title text-center mt-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"Idea Dashboard\"), React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row ml-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        className: \"invisible\",\n        ref: this.uploadRef,\n        onChange: this.onUpload,\n        multiple: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dashboard_profile col-2 px-3 text-center mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-10 offset-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"profile_img\",\n        src: this.state.profile.profileIMG,\n        alt: \"profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dash_pro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, this.state.username), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, \"Ideas: \", this.state.ideas.length, \" \")))), React.createElement(\"div\", {\n        className: \"col-9 px-3 mr-0 px-5 mt-4 idea-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"writeIdea mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(CustomToolbar, {\n        className: \"mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }), React.createElement(ReactQuill, {\n        className: \"quill mt-0\",\n        modules: this.modules,\n        value: this.state.text,\n        placeholder: \"Coming up with good ideas. Enter a short description of your idea here\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"mt-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, attachments)), ideas))));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nexport default DashboardPage;","map":{"version":3,"sources":["/Users/yeonwoo/CS290-proto/final/StartIQ/src/components/Dashboard/index.js"],"names":["React","ReactQuill","Link","Col","Button","Form","Row","Modal","Dropdown","Alert","FirebaseContext","renderHTML","DashboardPage","firebase","SubmitButton","FileUploadButton","CustomToolbar","e","persist","Dashboard","props","onSubmit","state","uid","putIdea","text","attachments","then","getIdea","ideas","setState","onEdit","key","console","log","modalShow","editIdea","revise","onSelect","data","onModal","idea","ideaKey","once","snapshot","editObject","val","editList","Object","keys","map","revisions","onChange","event","comment","target","value","onPost","evt","preventDefault","putComment","username","onDelete","deleteIdea","onComment","reset","onUploadClick","uploadRef","current","click","removeAttachment","idx","splice","onUpload","uploadFiles","files","urls","modules","toolbar","container","handlers","comments","undefined","profile","commentShow","handleChange","bind","handleModalChange","createRef","setAuthChangeHandler","user","getCreator","getProfile","ideaInfo","created_at","Date","toString","values","filename","url","modalClose","edit","length","substring","profileIMG","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\"\nimport ReactQuill from 'react-quill';\nimport './style.css'\n import { Link } from 'react-router-dom'\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.bubble.css';\nimport { Col, Button, Form, Row, Modal, Dropdown, Alert} from 'react-bootstrap';\nimport {FirebaseContext} from '../Firebase';\nimport renderHTML from 'react-render-html';\n\nconst DashboardPage = () => (\n  <div>\n    <FirebaseContext.Consumer>\n      {firebase => <Dashboard firebase={firebase}/>}\n    </FirebaseContext.Consumer>\n  </div>\n);\n\nconst SubmitButton = () => (\n  <span className = \"submit-idea px-2 py-1\" variant=\"info\">\n    Post\n  </span>\n);\n\nconst FileUploadButton = () => (\n  <i className=\"fas fa-paperclip\"></i>\n);\n\nconst CustomToolbar = () => (\n  <div id=\"toolbar\">\n    <select className=\"ql-header\" defaultValue={\"\"} onChange={e => e.persist()}>\n      <option value=\"1\"></option>\n      <option value=\"2\"></option>\n      <option selected></option>\n    </select>\n    <button className=\"ql-bold\"></button>\n    <button className=\"ql-italic\"></button>\n    <select className=\"ql-color\">\n      <option value=\"red\"></option>\n      <option value=\"green\"></option>\n      <option value=\"blue\"></option>\n      <option value=\"orange\"></option>\n      <option value=\"violet\"></option>\n      <option value=\"#d0d1d2\"></option>\n      <option selected></option>\n    </select>\n    <button className=\"ql-link\"></button>\n    <button className=\"ql-image mr-auto\"></button>\n    <button className=\"ql-upload px-0 py-0\">\n      <FileUploadButton className=\"mx-0 my-0\"/>\n    </button>\n    <button className=\"ql-submit px-0 py-0 float-right mr-3\">\n      <SubmitButton className=\"mx-0 my-0\"/>\n    </button>\n  </div>\n);\n\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { text: '', revise: '', ideas: [], revisions: [], comments: [], uid: undefined, username: undefined, attachments: [], profile: '', ideaKey: \"\", comment: \"\", commentShow: false}\n    this.handleChange = this.handleChange.bind(this)\n    this.handleModalChange = this.handleModalChange.bind(this)\n    this.onChange = this.onChange.bind(this)\n    this.uploadRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.props.firebase.setAuthChangeHandler((user) => {\n      if(user) {\n        this.setState({ uid: user.uid });\n        this.props.firebase.getCreator(this.state.uid).then(username => {\n          this.setState({username: username});\n          // console.log(this.state.username)\n        });\n        this.props.firebase.getIdea(this.state.uid).then(ideas => { // ideas : { KEY -> user idea}\n          this.setState({ideas : ideas});\n        });\n        this.props.firebase.getProfile(this.state.uid).then(profile => {\n          this.setState({profile : profile});\n        });\n      }\n      else this.setState({ uid: undefined, username: undefined });\n    });\n\n  }\n\n  handleChange(value) {\n    this.setState({ text: value });\n  }\n\n  handleModalChange(value){\n    this.setState({ revise: value });\n  }\n\n  onSubmit = () =>{\n    if(this.state.uid) {\n      this.props.firebase.putIdea(this.state.text, this.state.uid, this.state.attachments).then(() => {\n          this.props.firebase.getIdea(this.state.uid).then(ideas => { // ideas : { KEY -> user idea}\n            this.setState({ideas : ideas, text: '', attachments: [] });\n          });\n        });\n    }\n  }\n\n  onEdit = (key) => {\n    console.log(key)\n    this.setState({ modalShow: false });\n      this.props.firebase.editIdea(this.state.revise, this.state.uid, key).then(() => {\n        this.props.firebase.getIdea(this.state.uid).then(ideas => { // ideas : { KEY -> user idea}\n        this.setState({ideas : ideas, text: '', attachments: [] });\n        });\n      })\n  }\n\n  onSelect = (data) => {\n    this.setState({ revise: data });\n  }\n\n  onModal = (key, idea) => {\n    this.setState({ modalShow: true, revise: idea, ideaKey: key });\n\n    this.props.firebase.revise(this.state.uid, key).once('value', snapshot => {\n      const editObject = snapshot.val();\n      const editList = Object.keys(editObject).map(data => ({\n        ...editObject[data]\n      }));\n\n      this.setState({\n        revisions: editList\n      });\n\n      console.log(this.state.revisions);\n    });\n\n\n  }\n\n  onChange = event => {\n    this.setState({ comment: event.target.value });\n  };\n\n  onPost = (evt, key) => {\n    evt.preventDefault();\n    this.props.firebase.putComment(this.state.uid, key, this.state.username, this.state.comment).then(() => {\n      this.props.firebase.getIdea(this.state.uid).then(ideas => { // ideas : { KEY -> user idea}\n        this.setState({ideas : ideas});\n      });\n    });\n  }\n\n  onDelete = (key) => {\n    this.props.firebase.deleteIdea(this.state.uid, key).then(() => {\n      this.props.firebase.getIdea(this.state.uid).then(ideas => { // ideas : { KEY -> user idea}\n        this.setState({ideas : ideas});\n      });\n    });\n  }\n\n  onComment= (event) => {\n    event.target.reset();\n    this.setState({\n      comment: \"\"\n    })\n  }\n\n\n  onUploadClick = () => {\n    this.uploadRef.current.click();\n  }\n\n  removeAttachment = (idx) => {\n    this.state.attachments.splice(idx, 1);\n    this.setState({attachments: this.state.attachments});\n  } \n\n  onUpload = (event) => {\n    this.props.firebase.uploadFiles(this.state.uid, event.target.files).then(urls => {\n      this.setState({attachments: [...this.state.attachments, ...urls]});\n    });\n    event.target.value=\"\"; // to allow consecutive file upload on same file (it's just weird to not allow that)\n  }\n\n  modules = {\n    toolbar: {\n      container: \"#toolbar\",\n      handlers: {\n        \"submit\": this.onSubmit,\n        \"upload\": this.onUploadClick\n      }\n    }\n  }\n\n  render() {\n    // ideas\n    const ideas = this.state.ideas.map( ([key, ideaInfo]) => {\n      const created_at = (new Date(ideaInfo.created_at)).toString();\n      const comments = !ideaInfo.comments ? [] : Object.values(ideaInfo.comments).map(([username, comment]) => {\n        return (\n          <Form>\n            <Form.Group as={Row} controlId=\"formPlaintextComment\">\n              <Form.Label className = \"username_comment\" column sm={2}>\n                {username}\n              </Form.Label>\n              <Col sm=\"9\" className = \"commentContext pt-2\">\n                {comment}\n              </Col>\n            </Form.Group>\n          </Form>\n        )\n      });\n      \n      const attachments = !ideaInfo.attachments ? [] : ideaInfo.attachments.map(([filename, url], idx) => {\n        return (\n          <div key={idx} className=\"my-0 px-2 idea-attachments\" style={{ \"borderTop\": idx == 0 ? \"solid rgb(223, 223, 223) 1pt\" : \"none\" }}>\n            <p className=\"my-0 px-0 col-11 d-inline-block\"> <i className=\"fas fa-paperclip\"></i> <a href={url} target=\"_blank\">{filename}</a></p>\n          </div>\n        );\n      });\n      \n    let modalClose = () => this.setState({ modalShow: false });\n\n      return (\n        <div className=\"row dashboard\" key={key}>\n\n          <div className=\"col-8\">\n            <p className = \"createdAt\"> {created_at}, posted by {this.state.username} </p>\n          </div>\n          <div className=\"col-4\">\n            \n            <Button className = \"submit\" variant=\"danger\" onClick = {() => this.onDelete(key)} > Delete</Button>\n            <Link to={`/Idea/${key}`}> <Button className = \"submit\" variant=\"info\"> Refine </Button></Link>\n            <Button className = \"submit\" variant=\"secondary\" onClick={() => this.onModal(key, ideaInfo.idea)}> Edit</Button>\n            \n            <Modal\n              {...this.props}\n              size=\"lg\"\n              aria-labelledby=\"contained-modal-title-vcenter\"\n              centered\n              show={this.state.modalShow}\n              onHide={modalClose} \n            >\n            <Modal.Header closeButton>\n              <Modal.Title id=\"contained-modal-title-vcenter\">\n                Edit Your Idea\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <ReactQuill value={this.state.revise} onChange={this.handleModalChange} />\n              <Dropdown className = \"mt-4\">\n                  <Dropdown.Toggle variant=\"secondary\" id=\"dropdown-basic\">\n                    Select from revisions\n                  </Dropdown.Toggle>\n\n                  <Dropdown.Menu>\n                    {!this.state.revisions ? [] : this.state.revisions.map((edit, idx) => (\n                      <Dropdown.Item key={idx} onClick = {() => {this.onSelect(edit.idea)}}> Revised on {(new Date(edit.created_at)).toString()} </Dropdown.Item>\n                    ))}\n                  </Dropdown.Menu>\n                </Dropdown>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant = \"info\" onClick={() => this.onEdit(this.state.ideaKey)}>Save</Button>\n            </Modal.Footer>\n          </Modal>\n          </div>\n\n          <div className=\"col-12\">\n            {renderHTML(ideaInfo.idea)}\n            {attachments}\n            <hr></hr>\n            \n            <Form onSubmit = {this.onComment} >\n              <Form.Group as={Row} controlId=\"formPlaintextComment\">\n                <Form.Label className = \"username_comment\" column sm={2}>\n                {this.state.username}\n                </Form.Label>\n                <Col sm=\"8\">\n                  <Form.Control className = \"comment_input\" type=\"Comment\" onChange = {this.onChange} placeholder=\"Enter Your Comment...\" />\n                </Col>\n                <Button className = \"mr-4\" type=\"submit\" variant = \"light\" onClick = {(evt) => this.onPost(evt, key)}>Post</Button>\n              </Form.Group>\n            </Form>\n\n            {comments}\n\n          </div>\n          \n        </div>\n      )\n    });\n\n    // attachments below quill\n    const attachments = this.state.attachments.map(([filename, url], idx) => {\n      if(filename.length > 60) filename = filename.substring(0, 30)+\" ... \"+filename.substring(filename.length-30, filename.length);\n      return (\n        <div key={idx} className=\"my-0 px-2 attachments\">\n          <p className=\"my-0 px-0 col-11 d-inline-block\"> <i className=\"fas fa-paperclip\"></i> <a href={url} target=\"_blank\">{filename}</a></p>\n          <span className=\"float-right remove-attachment\" onClick={() => this.removeAttachment(idx)} ><i class=\"far fa-trash-alt\"></i></span>\n        </div>\n      );\n    })\n\n    return (      \n      <div className = \"main\">\n        <h1 className=\"title text-center mt-0\">Idea Dashboard</h1>\n        <div className=\"container-fluid\">\n          <div className=\"my-5\"></div>\n          <div className=\"row ml-5\">\n            \n            {/* hidden file input that receives multiple files to be uploaded */}\n            <input type=\"file\" className=\"invisible\" ref={this.uploadRef} onChange={this.onUpload} multiple></input>\n            \n            <div className = 'dashboard_profile col-2 px-3 text-center mt-5'>\n              <div className=\"col-10 offset-md-1\">\n                <img className = \"profile_img\" src={this.state.profile.profileIMG} alt=\"profile\"/>\n                <hr></hr>\n                <div className = \"dash_pro\">\n                  <p>{this.state.username}</p>\n                  <p>Ideas: {this.state.ideas.length} </p>\n                </div>\n              </div>\n            </div>\n\n            <div className='col-9 px-3 mr-0 px-5 mt-4 idea-wrapper'>\n              <div className= \"writeIdea mb-5\">\n                <CustomToolbar className=\"mb-0\"/>\n                <ReactQuill className= \"quill mt-0\" \n                            modules={this.modules} \n                            value={this.state.text} \n                            placeholder =\"Coming up with good ideas. Enter a short description of your idea here\"\n                            onChange={this.handleChange}>\n                </ReactQuill>\n                <div className=\"mt-0\">\n                  {attachments}\n                </div>\n              </div>\n              {ideas}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DashboardPage\n\n"]},"metadata":{},"sourceType":"module"}